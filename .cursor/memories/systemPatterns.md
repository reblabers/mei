# システムパターン

## アーキテクチャ
- Goで実装されたCLIアプリケーション
- Cobraライブラリを使用したコマンド構造
- 各機能は独立したサブコマンドとして実装
- 関連するコマンドは階層構造で整理（例：`project`の下に`add`と`ls`）

## コマンド構造
- `cmd/root.go`: ルートコマンドの定義と実行エントリーポイント
- 各主要機能は独自のコマンドファイルで定義（例：`cmd/project.go`, `cmd/env.go`など）
- サブコマンドは関連する機能ごとにファイルで定義（例：`cmd/project_ls.go`）
- 各コマンドファイルの`init()`関数内で親コマンドに自身を登録

## 責任分担
- `root.go`: ルートコマンドの定義と`Execute()`関数の提供
- 主要機能ファイル（例：`project.go`）: 機能グループのコマンド定義と`rootCmd`への登録
- サブコマンドファイル（例：`project_ls.go`）: 特定機能の実装と親コマンドへの登録
- `main.go`: アプリケーションのエントリーポイント、`cmd.Execute()`の呼び出し

## 開発環境の原則
- **開発用コマンドはタスクランナーで定義**
  - すべての開発コマンドはドキュメントではなく、タスクランナー（make, npm scripts, taskなど）に定義する
  - コマンドの実行方法を記憶に頼らず、タスクランナーのファイルを参照する
  - 理由：再現性の確保、オンボーディングの簡素化、知識の分散化

- **コード品質ルールはリント設定として定義**
  - フォーマットやコーディング規約はドキュメントではなく、リンターやフォーマッターの設定ファイルに定義する
  - 設定ファイルを読み込むことで規約を理解する
  - 理由：自動検証と強制、一貫性の維持、バージョン管理との統合

これらの原則に従うことで、AIアシスタントを含むすべての参加者が同じ理解を共有し、プロジェクトの継続性を保つことができます。設定ファイルを参照することで、記憶に頼ることなく正確な情報を得ることができます。

## 重要な技術的決定
- 各コマンドは自身のファイル内で定義と登録を行う
- 関連するコマンドは階層構造で整理し、一貫性のあるユーザーエクスペリエンスを提供
- エイリアスを活用して短縮コマンドをサポート（例：`p`は`project`のエイリアス）
- `root.go`はルートコマンドの定義と実行のみを担当
- サブコマンドの登録は各サブコマンドファイルの責任 